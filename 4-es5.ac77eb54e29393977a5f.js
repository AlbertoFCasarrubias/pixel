(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/8QE":function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),i=t("pMnS"),r=t("oBZk"),a=t("ZZ/e"),o=t("gIcY"),s=t("mrSG"),b=t("qnoD"),c=t("32YB"),d=function(){function n(n,l,t,u,e,i,r){this.formBuilder=n,this.alertController=l,this.loadingController=t,this.firebaseService=u,this.activatedRoute=e,this.routingService=i,this.router=r}return n.prototype.ngOnInit=function(){this.form=this.formBuilder.group({name:new o.d("",o.n.compose([o.n.required])),quantity:new o.d("")});var n=this.activatedRoute.snapshot.paramMap.get("id");n&&this.getMaterial(n)},n.prototype.presentAlert=function(n,l){return s.__awaiter(this,void 0,void 0,(function(){var t=this;return s.__generator(this,(function(u){switch(u.label){case 0:return[4,this.alertController.create({header:n,message:l,buttons:[{text:"Aceptar",handler:function(){"/order"===t.routingService.getPreviousUrl()?t.router.navigate(["/order"]):t.router.navigate(["/materials"])}}]})];case 1:return[4,u.sent().present()];case 2:return u.sent(),[2]}}))}))},n.prototype.presentLoading=function(){return s.__awaiter(this,void 0,void 0,(function(){var n;return s.__generator(this,(function(l){switch(l.label){case 0:return n=this,[4,this.loadingController.create({message:"Cargando"})];case 1:return n.loading=l.sent(),[4,this.loading.present()];case 2:return l.sent(),[2]}}))}))},n.prototype.dismissLoading=function(){this.loading&&this.loading.dismiss()},n.prototype.getMaterial=function(n){var l=this;this.presentLoading(),this.firebaseService.getMaterial(n).subscribe((function(n){l.material=n,l.form.controls.name.patchValue(l.material.name),l.form.controls.quantity.patchValue(l.material.quantity),l.form.addControl("id",new o.d(l.material.id)),l.dismissLoading()}),(function(n){return console.error(n)}))},n.prototype.submit=function(n){var l=this;this.presentLoading(),this.material?this.firebaseService.updateMaterial(n).then((function(){return l.savedOK(n)})).catch((function(n){return l.saveError(n)})):this.firebaseService.createMaterial(n).then((function(){return l.savedOK(n)})).catch((function(n){return l.saveError(n)}))},n.prototype.savedOK=function(n){this.dismissLoading(),this.presentAlert("Material",n.name+" guardado correctamente.")},n.prototype.saveError=function(n){this.dismissLoading(),this.presentAlert("Material",n.toString())},n}(),g=t("ZYCi"),h=u.rb({encapsulation:0,styles:[[""]],data:{}});function p(n){return u.Kb(0,[(n()(),u.tb(0,0,null,null,11,"ion-header",[],null,null,null,r.Z,r.p)),u.sb(1,49152,null,0,a.A,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,9,"ion-toolbar",[],null,null,null,r.tb,r.J)),u.sb(3,49152,null,0,a.Bb,[u.h,u.k,u.z],null,null),(n()(),u.tb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,r.N,r.d)),u.sb(5,49152,null,0,a.k,[u.h,u.k,u.z],null,null),(n()(),u.tb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==u.Eb(n,8).onClick(t)&&e),e}),r.L,r.b)),u.sb(7,49152,null,0,a.f,[u.h,u.k,u.z],null,null),u.sb(8,16384,null,0,a.g,[[2,a.hb],a.Hb],null,null),(n()(),u.tb(9,0,null,0,2,"ion-title",[],null,null,null,r.sb,r.I)),u.sb(10,49152,null,0,a.zb,[u.h,u.k,u.z],null,null),(n()(),u.Jb(-1,0,[" Material "])),(n()(),u.tb(12,0,null,null,37,"ion-content",[["class","ion-padding"]],null,null,null,r.U,r.k)),u.sb(13,49152,null,0,a.t,[u.h,u.k,u.z],null,null),(n()(),u.tb(14,0,null,0,35,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(n,l,t){var e=!0,i=n.component;return"submit"===l&&(e=!1!==u.Eb(n,16).onSubmit(t)&&e),"reset"===l&&(e=!1!==u.Eb(n,16).onReset()&&e),"ngSubmit"===l&&(e=!1!==i.submit(i.form.value)&&e),e}),null,null)),u.sb(15,16384,null,0,o.r,[],null,null),u.sb(16,540672,null,0,o.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),u.Gb(2048,null,o.a,null,[o.f]),u.sb(18,16384,null,0,o.l,[[4,o.a]],null,null),(n()(),u.tb(19,0,null,null,30,"ion-list",[],null,null,null,r.ib,r.y)),u.sb(20,49152,null,0,a.N,[u.h,u.k,u.z],null,null),(n()(),u.tb(21,0,null,0,11,"ion-item",[],null,null,null,r.gb,r.s)),u.sb(22,49152,null,0,a.G,[u.h,u.k,u.z],null,null),(n()(),u.tb(23,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,r.hb,r.x)),u.sb(24,49152,null,0,a.M,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Jb(-1,0,["Nombre"])),(n()(),u.tb(26,0,null,0,6,"ion-input",[["formControlName","name"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var e=!0;return"ionBlur"===l&&(e=!1!==u.Eb(n,27)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.Eb(n,27)._handleInputEvent(t.target)&&e),e}),r.bb,r.r)),u.sb(27,16384,null,0,a.Nb,[u.k],null,null),u.Gb(1024,null,o.i,(function(n){return[n]}),[a.Nb]),u.sb(29,671744,null,0,o.e,[[3,o.a],[8,null],[8,null],[6,o.i],[2,o.q]],{name:[0,"name"]},null),u.Gb(2048,null,o.j,null,[o.e]),u.sb(31,16384,null,0,o.k,[[4,o.j]],null,null),u.sb(32,49152,null,0,a.F,[u.h,u.k,u.z],null,null),(n()(),u.tb(33,0,null,0,11,"ion-item",[],null,null,null,r.gb,r.s)),u.sb(34,49152,null,0,a.G,[u.h,u.k,u.z],null,null),(n()(),u.tb(35,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,r.hb,r.x)),u.sb(36,49152,null,0,a.M,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Jb(-1,0,["Cantidad"])),(n()(),u.tb(38,0,null,0,6,"ion-input",[["formControlName","quantity"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var e=!0;return"ionBlur"===l&&(e=!1!==u.Eb(n,39)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.Eb(n,39)._handleIonChange(t.target)&&e),e}),r.bb,r.r)),u.sb(39,16384,null,0,a.Ib,[u.k],null,null),u.Gb(1024,null,o.i,(function(n){return[n]}),[a.Ib]),u.sb(41,671744,null,0,o.e,[[3,o.a],[8,null],[8,null],[6,o.i],[2,o.q]],{name:[0,"name"]},null),u.Gb(2048,null,o.j,null,[o.e]),u.sb(43,16384,null,0,o.k,[[4,o.j]],null,null),u.sb(44,49152,null,0,a.F,[u.h,u.k,u.z],{type:[0,"type"]},null),(n()(),u.tb(45,0,null,0,4,"ion-item",[["class","ion-text-center"],["lines","none"]],null,null,null,r.gb,r.s)),u.sb(46,49152,null,0,a.G,[u.h,u.k,u.z],{lines:[0,"lines"]},null),(n()(),u.tb(47,0,null,0,2,"ion-button",[["expand","block"],["type","submit"]],null,null,null,r.M,r.c)),u.sb(48,49152,null,0,a.j,[u.h,u.k,u.z],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(n()(),u.Jb(-1,0,["Guardar"]))],(function(n,l){var t=l.component;n(l,16,0,t.form),n(l,24,0,"stacked"),n(l,29,0,"name"),n(l,36,0,"stacked"),n(l,41,0,"quantity"),n(l,44,0,"number"),n(l,46,0,"none"),n(l,48,0,!t.form.valid,"block","submit")}),(function(n,l){n(l,14,0,u.Eb(l,18).ngClassUntouched,u.Eb(l,18).ngClassTouched,u.Eb(l,18).ngClassPristine,u.Eb(l,18).ngClassDirty,u.Eb(l,18).ngClassValid,u.Eb(l,18).ngClassInvalid,u.Eb(l,18).ngClassPending),n(l,26,0,u.Eb(l,31).ngClassUntouched,u.Eb(l,31).ngClassTouched,u.Eb(l,31).ngClassPristine,u.Eb(l,31).ngClassDirty,u.Eb(l,31).ngClassValid,u.Eb(l,31).ngClassInvalid,u.Eb(l,31).ngClassPending),n(l,38,0,u.Eb(l,43).ngClassUntouched,u.Eb(l,43).ngClassTouched,u.Eb(l,43).ngClassPristine,u.Eb(l,43).ngClassDirty,u.Eb(l,43).ngClassValid,u.Eb(l,43).ngClassInvalid,u.Eb(l,43).ngClassPending)}))}function m(n){return u.Kb(0,[(n()(),u.tb(0,0,null,null,1,"app-material",[],null,null,null,p,h)),u.sb(1,114688,null,0,d,[o.c,a.a,a.Fb,b.a,g.a,c.a,g.n],null,null)],(function(n,l){n(l,1,0)}),null)}var f=u.pb("app-material",d,m,{},{},[]),C=t("Ip0R"),v=function(){return function(){}}();t.d(l,"MaterialPageModuleNgFactory",(function(){return k}));var k=u.qb(e,[],(function(n){return u.Bb([u.Cb(512,u.j,u.bb,[[8,[i.a,f]],[3,u.j],u.x]),u.Cb(4608,o.p,o.p,[]),u.Cb(4608,C.k,C.j,[u.u,[2,C.r]]),u.Cb(4608,a.b,a.b,[u.z,u.g]),u.Cb(4608,a.Gb,a.Gb,[a.b,u.j,u.q]),u.Cb(4608,a.Kb,a.Kb,[a.b,u.j,u.q]),u.Cb(4608,o.c,o.c,[]),u.Cb(1073742336,o.o,o.o,[]),u.Cb(1073742336,o.h,o.h,[]),u.Cb(1073742336,C.b,C.b,[]),u.Cb(1073742336,a.Db,a.Db,[]),u.Cb(1073742336,o.m,o.m,[]),u.Cb(1073742336,g.p,g.p,[[2,g.u],[2,g.n]]),u.Cb(1073742336,v,v,[]),u.Cb(1073742336,e,e,[]),u.Cb(1024,g.l,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);