(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/yGZ":function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),e=function(){return function(){}}(),o=u("pMnS"),i=u("Ip0R"),r=u("oBZk"),s=u("ZZ/e"),a=u("gIcY"),b=u("mrSG"),c=u("9ans"),g=function(){function l(l,n,u,t){this.authService=l,this.formBuilder=n,this.alertController=u,this.router=t,this.errorMessage="",this.validation_messages={email:[{type:"required",message:"Email is required."},{type:"pattern",message:"Please enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 5 characters long."}]}}return l.prototype.ngOnInit=function(){this.validations_form=this.formBuilder.group({email:new a.d("",a.n.compose([a.n.required,a.n.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),password:new a.d("",a.n.compose([a.n.minLength(5),a.n.required]))})},l.prototype.tryLogin=function(l){var n=this;this.authService.doLogin(l).then((function(l){n.router.navigate(["/home"])}),(function(l){n.errorMessage=l.message,console.log(l)}))},l.prototype.goRegisterPage=function(){this.router.navigate(["/register"])},l.prototype.setNewPassword=function(){var l=this;this.authService.doChangePassword().then((function(){return l.presentAlert("Cambio de contrase\xf1a","Favor de revisar tu correo electr\xf3nico.")})).catch((function(n){return l.presentAlert("Error de cambio de contrase\xf1a",n)}))},l.prototype.presentAlert=function(l,n){return b.__awaiter(this,void 0,void 0,(function(){return b.__generator(this,(function(u){switch(u.label){case 0:return[4,this.alertController.create({header:l,message:n,buttons:["Aceptar"]})];case 1:return[4,u.sent().present()];case 2:return u.sent(),[2]}}))}))},l}(),d=u("ZYCi"),p=t.rb({encapsulation:0,styles:[[".error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.go-to-register[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.submit-btn[_ngcontent-%COMP%]{margin-top:40px}"]],data:{}});function m(l){return t.Kb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.message)}))}function h(l){return t.Kb(0,[(l()(),t.tb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,m)),t.sb(2,16384,null,0,i.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.validations_form.get("email").hasError(n.context.$implicit.type)&&(u.validations_form.get("email").dirty||u.validations_form.get("email").touched))}),null)}function f(l){return t.Kb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","error-message"]],null,null,null,null,null)),(l()(),t.Jb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.parent.context.$implicit.message)}))}function v(l){return t.Kb(0,[(l()(),t.tb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,f)),t.sb(2,16384,null,0,i.i,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(0,null,null,0))],(function(l,n){var u=n.component;l(n,2,0,u.validations_form.get("password").hasError(n.context.$implicit.type)&&(u.validations_form.get("password").dirty||u.validations_form.get("password").touched))}),null)}function C(l){return t.Kb(0,[(l()(),t.tb(0,0,null,null,56,"ion-content",[["class","form-content"]],null,null,null,r.U,r.k)),t.sb(1,49152,null,0,s.t,[t.h,t.k,t.z],null,null),(l()(),t.tb(2,0,null,0,50,"ion-grid",[],null,null,null,r.Y,r.o)),t.sb(3,49152,null,0,s.z,[t.h,t.k,t.z],null,null),(l()(),t.tb(4,0,null,0,4,"ion-row",[],null,null,null,r.nb,r.D)),t.sb(5,49152,null,0,s.ib,[t.h,t.k,t.z],null,null),(l()(),t.tb(6,0,null,0,2,"ion-col",[["class","ion-text-center"]],null,null,null,r.T,r.j)),t.sb(7,49152,null,0,s.s,[t.h,t.k,t.z],null,null),(l()(),t.tb(8,0,null,0,0,"img",[["src","https://picsum.photos/200/300"]],null,null,null,null,null)),(l()(),t.tb(9,0,null,0,43,"ion-row",[],null,null,null,r.nb,r.D)),t.sb(10,49152,null,0,s.ib,[t.h,t.k,t.z],null,null),(l()(),t.tb(11,0,null,0,41,"ion-col",[],null,null,null,r.T,r.j)),t.sb(12,49152,null,0,s.s,[t.h,t.k,t.z],null,null),(l()(),t.tb(13,0,null,0,39,"form",[["class","form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0,o=l.component;return"submit"===n&&(e=!1!==t.Eb(l,15).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Eb(l,15).onReset()&&e),"ngSubmit"===n&&(e=!1!==o.tryLogin(o.validations_form.value)&&e),e}),null,null)),t.sb(14,16384,null,0,a.r,[],null,null),t.sb(15,540672,null,0,a.f,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Gb(2048,null,a.a,null,[a.f]),t.sb(17,16384,null,0,a.l,[[4,a.a]],null,null),(l()(),t.tb(18,0,null,null,11,"ion-item",[],null,null,null,r.gb,r.s)),t.sb(19,49152,null,0,s.G,[t.h,t.k,t.z],null,null),(l()(),t.tb(20,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,r.hb,r.x)),t.sb(21,49152,null,0,s.M,[t.h,t.k,t.z],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Jb(-1,0,["Email"])),(l()(),t.tb(23,0,null,0,6,"ion-input",[["formControlName","email"],["type","email"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.Eb(l,24)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Eb(l,24)._handleInputEvent(u.target)&&e),e}),r.bb,r.r)),t.sb(24,16384,null,0,s.Nb,[t.k],null,null),t.Gb(1024,null,a.i,(function(l){return[l]}),[s.Nb]),t.sb(26,671744,null,0,a.e,[[3,a.a],[8,null],[8,null],[6,a.i],[2,a.q]],{name:[0,"name"]},null),t.Gb(2048,null,a.j,null,[a.e]),t.sb(28,16384,null,0,a.k,[[4,a.j]],null,null),t.sb(29,49152,null,0,s.F,[t.h,t.k,t.z],{type:[0,"type"]},null),(l()(),t.tb(30,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,h)),t.sb(32,278528,null,0,i.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(33,0,null,null,11,"ion-item",[],null,null,null,r.gb,r.s)),t.sb(34,49152,null,0,s.G,[t.h,t.k,t.z],null,null),(l()(),t.tb(35,0,null,0,2,"ion-label",[["color","primary"],["position","floating"]],null,null,null,r.hb,r.x)),t.sb(36,49152,null,0,s.M,[t.h,t.k,t.z],{color:[0,"color"],position:[1,"position"]},null),(l()(),t.Jb(-1,0,["Password"])),(l()(),t.tb(38,0,null,0,6,"ion-input",[["formControlName","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var e=!0;return"ionBlur"===n&&(e=!1!==t.Eb(l,39)._handleBlurEvent(u.target)&&e),"ionChange"===n&&(e=!1!==t.Eb(l,39)._handleInputEvent(u.target)&&e),e}),r.bb,r.r)),t.sb(39,16384,null,0,s.Nb,[t.k],null,null),t.Gb(1024,null,a.i,(function(l){return[l]}),[s.Nb]),t.sb(41,671744,null,0,a.e,[[3,a.a],[8,null],[8,null],[6,a.i],[2,a.q]],{name:[0,"name"]},null),t.Gb(2048,null,a.j,null,[a.e]),t.sb(43,16384,null,0,a.k,[[4,a.j]],null,null),t.sb(44,49152,null,0,s.F,[t.h,t.k,t.z],{type:[0,"type"]},null),(l()(),t.tb(45,0,null,null,2,"div",[["class","validation-errors"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,v)),t.sb(47,278528,null,0,i.h,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(48,0,null,null,2,"ion-button",[["class","submit-btn"],["expand","block"],["type","submit"]],null,null,null,r.M,r.c)),t.sb(49,49152,null,0,s.j,[t.h,t.k,t.z],{disabled:[0,"disabled"],expand:[1,"expand"],type:[2,"type"]},null),(l()(),t.Jb(-1,0,["Log In"])),(l()(),t.tb(51,0,null,null,1,"label",[["class","error-message"]],null,null,null,null,null)),(l()(),t.Jb(52,null,["",""])),(l()(),t.tb(53,0,null,0,3,"p",[["class","go-to-register"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,[" Forgot your password? "])),(l()(),t.tb(55,0,null,null,1,"a",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.setNewPassword()&&t),t}),null,null)),(l()(),t.Jb(-1,null,["Generate new password."]))],(function(l,n){var u=n.component;l(n,15,0,u.validations_form),l(n,21,0,"primary","floating"),l(n,26,0,"email"),l(n,29,0,"email"),l(n,32,0,u.validation_messages.email),l(n,36,0,"primary","floating"),l(n,41,0,"password"),l(n,44,0,"password"),l(n,47,0,u.validation_messages.password),l(n,49,0,!u.validations_form.valid,"block","submit")}),(function(l,n){var u=n.component;l(n,13,0,t.Eb(n,17).ngClassUntouched,t.Eb(n,17).ngClassTouched,t.Eb(n,17).ngClassPristine,t.Eb(n,17).ngClassDirty,t.Eb(n,17).ngClassValid,t.Eb(n,17).ngClassInvalid,t.Eb(n,17).ngClassPending),l(n,23,0,t.Eb(n,28).ngClassUntouched,t.Eb(n,28).ngClassTouched,t.Eb(n,28).ngClassPristine,t.Eb(n,28).ngClassDirty,t.Eb(n,28).ngClassValid,t.Eb(n,28).ngClassInvalid,t.Eb(n,28).ngClassPending),l(n,38,0,t.Eb(n,43).ngClassUntouched,t.Eb(n,43).ngClassTouched,t.Eb(n,43).ngClassPristine,t.Eb(n,43).ngClassDirty,t.Eb(n,43).ngClassValid,t.Eb(n,43).ngClassInvalid,t.Eb(n,43).ngClassPending),l(n,52,0,u.errorMessage)}))}function y(l){return t.Kb(0,[(l()(),t.tb(0,0,null,null,1,"app-login",[],null,null,null,C,p)),t.sb(1,114688,null,0,g,[c.a,a.c,s.a,d.n],null,null)],(function(l,n){l(n,1,0)}),null)}var E=t.pb("app-login",g,y,{},{},[]),w=function(){return function(){}}();u.d(n,"LoginPageModuleNgFactory",(function(){return k}));var k=t.qb(e,[],(function(l){return t.Bb([t.Cb(512,t.j,t.bb,[[8,[o.a,E]],[3,t.j],t.x]),t.Cb(4608,a.p,a.p,[]),t.Cb(4608,i.k,i.j,[t.u,[2,i.r]]),t.Cb(4608,s.b,s.b,[t.z,t.g]),t.Cb(4608,s.Gb,s.Gb,[s.b,t.j,t.q]),t.Cb(4608,s.Kb,s.Kb,[s.b,t.j,t.q]),t.Cb(4608,a.c,a.c,[]),t.Cb(1073742336,a.o,a.o,[]),t.Cb(1073742336,a.h,a.h,[]),t.Cb(1073742336,i.b,i.b,[]),t.Cb(1073742336,s.Db,s.Db,[]),t.Cb(1073742336,a.m,a.m,[]),t.Cb(1073742336,d.p,d.p,[[2,d.u],[2,d.n]]),t.Cb(1073742336,w,w,[]),t.Cb(1073742336,e,e,[]),t.Cb(1024,d.l,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);